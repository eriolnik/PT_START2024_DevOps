# Телеграм Бот с Реплицируемой Базой Данных

Этот проект был сделан в ходе стажировки PT-START2024 (Positive Technologies).
Проект включает в себя Telegram-бота и реплицируемую базу данных. Бот способен мониторить системы на базе Linux, обнаруживать телефонные номера и адреса электронной почты в текстах, проверять сложность паролей и добавлять найденные контактные данные в базу данных с поддержкой репликации. Развертывание проекта возможно с использованием Docker или Ansible.

## Возможности

- **Мониторинг Системы**: Мониторинг Linux систем с использованием доступных команд.(список команд предоставлен ниже)
- **Анализ Текста**: Поиск номеров телефонов и электронных адресов в тексте в максимально широком формате.
- **Проверка Сложности Паролей**
- **Интеграция с Базой Данных**: Добавление найденных номеров телефонов и электронных адресов в реплицируемую базу данных.
- **Репликация**: Обеспечение репликации данных между несколькими экземплярами базы данных.


### Предварительные Требования

- Docker (для развертывания с docker)
- Ansible (для развертывания с ansible)
- Токен API Телеграм Бота
- Детали удаленного хоста для мониторинга


### Чтобы развернуть проект с помощью docker, вам нужно:
1. скачать репозиторий командой "git clone -b docker https://github.com/eriolnik/PTSTART-2024_DevOps 
2. установить docker, docker compose
3. заполнить .env файл вашими данными (**важно: не меняйте хосты для бд и реплики, т.к. они настроены на докере**)
4. собрать проект командой "docker compose up"


Инструкция для сборки с помощью ansible в соответствующей ветке.

### Команды для бота:
/findPhoneNumbers - поиск телефонных номеров

/findEmailAddresses - поиск email

/verifyPassword - проверка сложности пароля

/get_auths - последние 10 входов в систему

/get_critical - последние 5 критических событий

/get_ps - запущенные процессы

/get_ss - используемые порты

/get_apt_list - установленные пакеты

/get_df - состояние файловой системы

/get_free - состояние оперативной памяти

/get_mpstat - производительность системы

/get_w - работающие пользователи

/get_release - информация о релизе

/get_uname - информация об архитектуре процессора, имени хоста и версии ядра

/get_uptime - время работы системы

/get_services - запущенные сервисы

/get_repl_logs - просмотр логов репликации

/get_emails - посмотреть все почты в БД

/get_phone_numbers - посмотреть все номера в БД

### Номера телефонов в формате:

8XXXXXXXXXX, 8(XXX)XXXXXXX, 8 XXX XXX XX XX, 8 (XXX) XXX XX XX, 8-XXX-XXX-XX-XX.

Также вместо ‘8’ на первом месте может быть ‘+7’.
